A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     1


MACRO ASSEMBLER A51 V8.2.5.0
OBJECT MODULE PLACED IN .\Objects\projeto00_padrao.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE projeto00_padrao.a51 SET(SMALL) DEBUG PRINT(.\Listings\projeto00_padrao
                      .lst) OBJECT(.\Objects\projeto00_padrao.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     

                       2     

                       3     

                       4     

                       5     

                       6     

                       7     

                       8     

                       9     

                      10     $nomod51 

                      11     ;#include <at89c5131.h>

                +1    12     

                +1    13     

                +1    14     

                +1    15     

                +1    16     

                +1    17     

                +1    18     

                +1    19     

                +1    20     

                +1    21     

                +1    22     

                +1    23     

                +1    24     

                +1    25     

                +1    26     

                +1    27     

                +1    28     

                +1    29     

                +1    30     

                +1    31     

                +1    32     

                +1    33     

                +1    34     

                +1    35     

                +1    36     

                +1    37     

                +1    38     

                +1    39     

                +1    40     

  00E0          +1    41     sfr ACC = 0xE0 ;        /* Sfr ( ACC, bit addressable)*/

  00F0          +1    42     sfr B = 0xF0 ;        /* Sfr ( B,   bit addressable)*/

  00D0          +1    43     sfr PSW = 0xD0 ;        /* Sfr ( PSW, bit addressable)*/

  0081          +1    44     sfr SP = 0x81 ;

  0082          +1    45     sfr DPL = 0x82 ;

  0083          +1    46     sfr DPH = 0x83 ;

                +1    47     

                +1    48     

                +1    49     

                +1    50     

                +1    51     

                +1    52     

  0080          +1    53     sfr P0 = 0x80 ;        /* Sfr ( P0, bit addressable)*/

                +1    54     

  0087          +1    55     sbit P0_7 = P0 ^ 7 ;

  0086          +1    56     sbit P0_6 = P0 ^ 6 ;

  0085          +1    57     sbit P0_5 = P0 ^ 5 ;

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     2

  0084          +1    58     sbit P0_4 = P0 ^ 4 ;

  0083          +1    59     sbit P0_3 = P0 ^ 3 ;

  0082          +1    60     sbit P0_2 = P0 ^ 2 ;

  0081          +1    61     sbit P0_1 = P0 ^ 1 ;

  0080          +1    62     sbit P0_0 = P0 ^ 0 ;

                +1    63     

  0090          +1    64     sfr P1 = 0x90 ;        /* Sfr ( P1, bit addressable)*/

                +1    65     

  0097          +1    66     sbit P1_7 = P1 ^ 7 ;

  0096          +1    67     sbit P1_6 = P1 ^ 6 ;

  0095          +1    68     sbit P1_5 = P1 ^ 5 ;

  0094          +1    69     sbit P1_4 = P1 ^ 4 ;

  0093          +1    70     sbit P1_3 = P1 ^ 3 ;

  0092          +1    71     sbit P1_2 = P1 ^ 2 ;

  0091          +1    72     sbit P1_1 = P1 ^ 1 ;

  0090          +1    73     sbit P1_0 = P1 ^ 0 ;

                +1    74     

  00A0          +1    75     sfr P2 = 0xA0 ;        /* Sfr ( P2, bit addressable)*/

                +1    76     

  00A7          +1    77     sbit P2_7 = P2 ^ 7 ;

  00A6          +1    78     sbit P2_6 = P2 ^ 6 ;

  00A5          +1    79     sbit P2_5 = P2 ^ 5 ;

  00A4          +1    80     sbit P2_4 = P2 ^ 4 ;

  00A3          +1    81     sbit P2_3 = P2 ^ 3 ;

  00A2          +1    82     sbit P2_2 = P2 ^ 2 ;

  00A1          +1    83     sbit P2_1 = P2 ^ 1 ;

  00A0          +1    84     sbit P2_0 = P2 ^ 0 ;

                +1    85     

  00B0          +1    86     sfr P3 = 0xB0 ;        /* Sfr ( P3, bit addressable)*/

                +1    87     

  00B7          +1    88     sbit P3_7 = P3 ^ 7 ;

  00B6          +1    89     sbit P3_6 = P3 ^ 6 ;

  00B5          +1    90     sbit P3_5 = P3 ^ 5 ;

  00B4          +1    91     sbit P3_4 = P3 ^ 4 ;

  00B3          +1    92     sbit P3_3 = P3 ^ 3 ;

  00B2          +1    93     sbit P3_2 = P3 ^ 2 ;

  00B1          +1    94     sbit P3_1 = P3 ^ 1 ;

  00B0          +1    95     sbit P3_0 = P3 ^ 0 ;

                +1    96     

  00C0          +1    97     sfr P4 = 0xC0 ;        /* Sfr ( P4, bit addressable)*/

                +1    98     

  00C1          +1    99     sbit P4_1 = P4 ^ 1 ;

  00C0          +1   100     sbit P4_0 = P4 ^ 0 ;

                +1   101     

                +1   102     

                +1   103     

                +1   104     

  008C          +1   105     sfr TH0 = 0x8C ; 

  008A          +1   106     sfr TL0 = 0x8A ;

  008D          +1   107     sfr TH1 = 0x8D ;

  008B          +1   108     sfr TL1 = 0x8B ;

  00CD          +1   109     sfr TH2 = 0xCD ;

  00CC          +1   110     sfr TL2 = 0xCC ;

  0088          +1   111     sfr TCON = 0x88 ;        /* Sfr ( TCON,  bit addressable)*/

  0089          +1   112     sfr TMOD = 0x89 ;

  00C8          +1   113     sfr T2CON = 0xC8 ;        /* Sfr ( T2CON, bit addressable)*/

  00C9          +1   114     sfr T2MOD = 0xC9 ;

  00CB          +1   115     sfr RCAP2H = 0xCB ;

  00CA          +1   116     sfr RCAP2L = 0xCA ;

  00A6          +1   117     sfr WDTRST = 0xA6 ;

  00A7          +1   118     sfr WDTPRG = 0xA7 ;

                +1   119     

                +1   120                                 

  008F          +1   121     sbit TF1 = TCON ^ 7 ;

  008E          +1   122     sbit TR1 = TCON ^ 6 ;

  008D          +1   123     sbit TF0 = TCON ^ 5 ;

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     3

  008C          +1   124     sbit TR0 = TCON ^ 4 ;

  008B          +1   125     sbit IE1_ = TCON ^ 3 ;

  008A          +1   126     sbit IT1 = TCON ^ 2 ;

  0089          +1   127     sbit IE0_ = TCON ^ 1 ;

  0088          +1   128     sbit IT0 = TCON ^ 0 ;

                +1   129                                 

  00CF          +1   130     sbit TF2 = T2CON ^ 7 ;

  00CE          +1   131     sbit EXF2 = T2CON ^ 6 ;

  00CD          +1   132     sbit RCLK = T2CON ^ 5 ;

  00CC          +1   133     sbit TCLK = T2CON ^ 4 ;

  00CB          +1   134     sbit EXEN2 = T2CON ^ 3 ;

  00CA          +1   135     sbit TR2 = T2CON ^ 2 ;

  00C9          +1   136     sbit C_T2 = T2CON ^ 1 ;

  00C8          +1   137     sbit CP_RL2 = T2CON ^ 0 ;

                +1   138     

                +1   139     

                +1   140     

                +1   141     

  0098          +1   142     sfr SCON = 0x98 ;

  0099          +1   143     sfr SBUF = 0x99 ;

  00B9          +1   144     sfr SADEN = 0xB9 ;

  00A9          +1   145     sfr SADDR = 0xA9 ;

                +1   146     

  009F          +1   147     sbit FE_SM0 = SCON ^ 7 ;

  009E          +1   148     sbit SM1 = SCON ^ 6 ;

  009D          +1   149     sbit SM2 = SCON ^ 5 ;

  009C          +1   150     sbit REN = SCON ^ 4 ;

  009B          +1   151     sbit TB8 = SCON ^ 3 ;

  009A          +1   152     sbit RB8 = SCON ^ 2 ;

  0099          +1   153     sbit TI = SCON ^ 1 ;

  0098          +1   154     sbit RI = SCON ^ 0 ;

                +1   155     

                +1   156     

                +1   157     

  009A          +1   158     sfr BRL = 0x9A ;

  009B          +1   159     sfr BDRCON = 0x9B ;

                +1   160     

                +1   161     

                +1   162     

  00D8          +1   163     sfr CCON = 0xD8 ;      /* Sfr ( CCON, bit addressable)*/

  00D9          +1   164     sfr CMOD = 0xD9 ;

  00E9          +1   165     sfr CL = 0xE9 ;

  00F9          +1   166     sfr CH = 0xF9 ;

  00DA          +1   167     sfr CCAPM0 = 0xDA ;

  00DB          +1   168     sfr CCAPM1 = 0xDB ;

  00DC          +1   169     sfr CCAPM2 = 0xDC ;

  00DD          +1   170     sfr CCAPM3 = 0xDD ;

  00DE          +1   171     sfr CCAPM4 = 0xDE ;

  00FA          +1   172     sfr CCAP0H = 0xFA ;

  00FB          +1   173     sfr CCAP1H = 0xFB ;

  00FC          +1   174     sfr CCAP2H = 0xFC ;

  00FD          +1   175     sfr CCAP3H = 0xFD ;

  00FE          +1   176     sfr CCAP4H = 0xFE ;

  00EA          +1   177     sfr CCAP0L = 0xEA ;

  00EB          +1   178     sfr CCAP1L = 0xEB ;

  00EC          +1   179     sfr CCAP2L = 0xEC ;

  00ED          +1   180     sfr CCAP3L = 0xED ;

  00EE          +1   181     sfr CCAP4L = 0xEE ;

                +1   182     

                +1   183                                  

  00DF          +1   184     sbit CF = CCON ^ 7 ;

  00DE          +1   185     sbit CR = CCON ^ 6 ;

  00DC          +1   186     sbit CCF4 = CCON ^ 4 ;

  00DB          +1   187     sbit CCF3 = CCON ^ 3 ;

  00DA          +1   188     sbit CCF2 = CCON ^ 2 ;

  00D9          +1   189     sbit CCF1 = CCON ^ 1 ;

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     4

  00D8          +1   190     sbit CCF0 = CCON ^ 0 ;

                +1   191     

                +1   192     

                +1   193     

                +1   194     

  00A8          +1   195     sfr IEN0 = 0xA8 ;       /* Sfr ( IEN0,  bit addressable                 */

  00B1          +1   196     sfr IEN1 = 0xB1 ;

  00B8          +1   197     sfr IPL0 = 0xB8 ;       /* Sfr ( IPL0, bit addressable          */

  00B7          +1   198     sfr IPH0 = 0xB7 ;

  00B2          +1   199     sfr IPL1 = 0xB2 ;

  00B3          +1   200     sfr IPH1 = 0xB3 ;

                +1   201     

                +1   202                                  

  00AF          +1   203     sbit EA = IEN0 ^ 7 ;

  00AE          +1   204     sbit EC = IEN0 ^ 6 ;

  00AD          +1   205     sbit ET2 = IEN0 ^ 5 ;

  00AC          +1   206     sbit ES = IEN0 ^ 4 ;

  00AB          +1   207     sbit ET1 = IEN0 ^ 3 ;

  00AA          +1   208     sbit EX1 = IEN0 ^ 2 ;

  00A9          +1   209     sbit ET0 = IEN0 ^ 1 ;

  00A8          +1   210     sbit EX0 = IEN0 ^ 0 ;

                +1   211                                  

  00BE          +1   212     sbit PPCL = IPL0 ^ 6 ;

  00BD          +1   213     sbit PT2L = IPL0 ^ 5 ;

  00BC          +1   214     sbit PSL = IPL0 ^ 4 ;

  00BB          +1   215     sbit PTIL = IPL0 ^ 3 ;

  00BA          +1   216     sbit PXIL = IPL0 ^ 2 ;

  00B9          +1   217     sbit PT0L = IPL0 ^ 1 ;

  00B8          +1   218     sbit PX0L = IPL0 ^ 0 ;

                +1   219     

                +1   220     

                +1   221     

  00A3          +1   222     sfr PLLCON = 0xA3 ;

  00A4          +1   223     sfr PLLDIV = 0xA4 ;

                +1   224     

                +1   225     

                +1   226     

  009E          +1   227     sfr KBF = 0x9E ;

  009D          +1   228     sfr KBE = 0x9D ;

  009C          +1   229     sfr KBLS = 0x9C ;

                +1   230     

                +1   231     

                +1   232     

  0093          +1   233     sfr SSCON = 0x93 ;

  0094          +1   234     sfr SSCS = 0x94 ;

  0095          +1   235     sfr SSDAT = 0x95 ;

  0096          +1   236     sfr SSADR = 0x96 ;

                +1   237     

                +1   238     

                +1   239     

  00C3          +1   240     sfr SPCON = 0xC3 ;

  00C4          +1   241     sfr SPSTA = 0xC4 ;

  00C5          +1   242     sfr SPDAT = 0xC5 ;

                +1   243     

                +1   244     

                +1   245     

  00BC          +1   246     sfr USBCON = 0xBC ;

  00C6          +1   247     sfr USBADDR = 0xC6 ;

  00BD          +1   248     sfr USBINT = 0xBD ;

  00BE          +1   249     sfr USBIEN = 0xBE ;

  00C7          +1   250     sfr UEPNUM = 0xC7 ;

  00D4          +1   251     sfr UEPCONX = 0xD4 ;

  00CE          +1   252     sfr UEPSTAX = 0xCE ;

  00D5          +1   253     sfr UEPRST = 0xD5 ;

  00F8          +1   254     sfr UEPINT = 0xF8 ;         /* Sfr ( UEPINT, bit addressable) */

  00C2          +1   255     sfr UEPIEN = 0xC2 ;

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     5

  00CF          +1   256     sfr UEPDATX = 0xCF ;

  00E2          +1   257     sfr UBYCTLX = 0xE2 ;

  00E3          +1   258     sfr UBYCTHX = 0xE3 ;

  00D6          +1   259     sfr UDPADDL = 0xD6 ;

  00D7          +1   260     sfr UDPADDH = 0xD7 ;

  00BA          +1   261     sfr UFNUML = 0xBA ;

  00BB          +1   262     sfr UFNUMH = 0xBB ;

                +1   263                                     

  00FE          +1   264     sbit EP6INT = UEPINT ^ 6 ;

  00FD          +1   265     sbit EP5INT = UEPINT ^ 5 ;

  00FC          +1   266     sbit EP4INT = UEPINT ^ 4 ;

  00FB          +1   267     sbit EP3INT = UEPINT ^ 3 ;

  00FA          +1   268     sbit EP2INT = UEPINT ^ 2 ;

  00F9          +1   269     sbit EP1INT = UEPINT ^ 1 ;

  00F8          +1   270     sbit EP0INT = UEPINT ^ 0 ;

                +1   271     

                +1   272     

                +1   273     

  0087          +1   274     sfr PCON = 0x87 ;

  008E          +1   275     sfr AUXR = 0x8E ;

  00A2          +1   276     sfr AUXR1 = 0xA2 ;

  008F          +1   277     sfr CKCON0 = 0x8F ;

  00AF          +1   278     sfr CKCON1 = 0xAF ;

  0085          +1   279     sfr CKSEL = 0x85 ;

  00F1          +1   280     sfr LEDCON = 0xF1 ;

  00D1          +1   281     sfr FCON = 0xD1 ;

  00D2          +1   282     sfr EECON = 0xD2 ;

                +1   283     

                +1   284     

                +1   285     

                +1   286     

                     287     

                     288     ;#include "lcd16x2.a51"

                +1   289     

                +1   290     

                +1   291     

                +1   292     

                +1   293     

                +1   294     

                +1   295     

                +1   296     

                +1   297     

                +1   298     

                +1   299     

                +1   300     

0E00            +1   301     ORG             0E00h

                +1   302     

                +1   303     

                +1   304     

                +1   305     

                +1   306     

                +1   307     

  0080          +1   308     DISPLAY EQU P0

  0087          +1   309     BUSYF   EQU     P0.7                     

                +1   310     

  00A5          +1   311     RS              EQU     P2.5                     

  00A7          +1   312     E_LCD   EQU     P2.7                     

  00A6          +1   313     RW              EQU     P2.6                     

                +1   314     

                +1   315     

                +1   316     

                +1   317     

                +1   318     

                +1   319     

                +1   320     

                +1   321     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     6

                +1   322     

                +1   323     

0E00            +1   324     INIDISP:

0E00 7838       +1   325             MOV     R0,#38H          

0E02 7A05       +1   326             MOV     R2,#05           

0E04 D11F       +1   327             CALL    ESCINST          

                +1   328             

0E06 7838       +1   329                     MOV     R0,#38H          

0E08 7A01       +1   330             MOV     R2,#01           

0E0A D11F       +1   331             CALL    ESCINST          

                +1   332             

0E0C 7806       +1   333                     MOV     R0,#06H          

0E0E 7A01       +1   334             MOV     R2,#01           

0E10 D11F       +1   335             CALL    ESCINST          

                +1   336             

0E12 780C       +1   337                     MOV     R0,#0CH          

0E14 7A01       +1   338             MOV     R2,#01           

0E16 D11F       +1   339             CALL    ESCINST          

                +1   340             

0E18 7801       +1   341                     MOV     R0,#01H          

0E1A 7A02       +1   342             MOV     R2,#02           

0E1C D11F       +1   343             CALL    ESCINST          

                +1   344             

0E1E 22         +1   345                     RET

                +1   346                     

                +1   347     

                +1   348     

                +1   349     

                +1   350     

                +1   351     

                +1   352     

                +1   353     

                +1   354     

                +1   355     

0E1F            +1   356     ESCINST:  

0E1F C2A6       +1   357                     CLR             RW                               

0E21 C2A5       +1   358                     CLR     RS               

0E23 D2A7       +1   359                     SETB    E_LCD            

                +1   360                     

0E25 8880       +1   361                     MOV     DISPLAY, R0      

                +1   362                     

0E27 C2A7       +1   363                     CLR     E_LCD            

                +1   364                     

0E29 7580FF     +1   365                     MOV             DISPLAY,#0xFF    

                +1   366                     

0E2C D2A6       +1   367                     SETB    RW                               

0E2E D2A7       +1   368                     SETB    E_LCD            

                +1   369     

0E30 2087FD     +1   370                     JB              BUSYF, $                 

                +1   371                     

0E33 C2A7       +1   372                     CLR     E_LCD            

                +1   373             

0E35 22         +1   374                     RET

                +1   375                     

                +1   376     

                +1   377     

                +1   378     

                +1   379     

                +1   380     

                +1   381     

                +1   382     

                +1   383     

0E36            +1   384     GOTOXY: 

0E36 C0E0       +1   385                     PUSH    ACC

                +1   386             

0E38 7480       +1   387                     MOV     A,#80H

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     7

0E3A B80102     +1   388             CJNE    R0,#01,GT1       

                +1   389             

0E3D 74C0       +1   390                     MOV     A,#0C0H

                +1   391                     

0E3F 49         +1   392     GT1:    ORL     A,R1             

0E40 F8         +1   393             MOV     R0,A

0E41 7A01       +1   394             MOV     R2,#01           

                +1   395             

0E43 D11F       +1   396                     CALL    ESCINST          

                +1   397             

0E45 D0E0       +1   398                     POP     ACC

                +1   399             

0E47 22         +1   400                     RET

                +1   401             

                +1   402     

                +1   403     

                +1   404     

                +1   405     

                +1   406     

                +1   407     

                +1   408     

                +1   409     

0E48            +1   410     CLR1L:    

0E48 C0E0       +1   411             PUSH   ACC

                +1   412             

0E4A 7800       +1   413                     MOV    R0,#00               

0E4C 7900       +1   414             MOV    R1,#00

                +1   415             

0E4E D136       +1   416                     CALL   GOTOXY

                +1   417             

0E50 7910       +1   418                     MOV    R1,#16               

                +1   419     

0E52 7420       +1   420     CLR1L1: MOV    A,#' '               

                +1   421             

0E54 D17A       +1   422                     CALL   ESCDADO

                +1   423             

0E56 D9FA       +1   424                     DJNZ   R1,CLR1L1

0E58 7800       +1   425             MOV    R0,#00               

0E5A 7900       +1   426             MOV    R1,#00

                +1   427             

0E5C D136       +1   428                     CALL   GOTOXY

                +1   429             

0E5E D0E0       +1   430                     POP    ACC

                +1   431             

0E60 22         +1   432                     RET

                +1   433                     

                +1   434     

                +1   435     

                +1   436     

                +1   437     

                +1   438     

                +1   439     

                +1   440     

                +1   441     

0E61            +1   442     CLR2L:    

0E61 C0E0       +1   443             PUSH   ACC

                +1   444             

0E63 7801       +1   445                     MOV    R0,#01               

0E65 7900       +1   446             MOV    R1,#00

                +1   447             

0E67 D136       +1   448                     CALL   GOTOXY

                +1   449             

0E69 7910       +1   450                     MOV    R1,#16               

                +1   451     

0E6B 7420       +1   452     CLR2L1: MOV    A,#' '               

                +1   453             

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     8

0E6D D17A       +1   454                     CALL   ESCDADO

                +1   455             

0E6F D9FA       +1   456                     DJNZ   R1,CLR2L1

0E71 7801       +1   457             MOV    R0,#01               

0E73 7900       +1   458             MOV    R1,#00

                +1   459             

0E75 D136       +1   460                     CALL   GOTOXY

                +1   461             

0E77 D0E0       +1   462                     POP    ACC

                +1   463             

0E79 22         +1   464                     RET

                +1   465                

                +1   466     

                +1   467     

                +1   468     

                +1   469     

                +1   470     

                +1   471     

                +1   472     

0E7A            +1   473     ESCDADO:  

0E7A C2A6       +1   474                     CLR             RW                               

0E7C D2A5       +1   475             SETB    RS               

0E7E D2A7       +1   476             SETB    E_LCD            

                +1   477                     

0E80 F580       +1   478             MOV     DISPLAY,A        

                +1   479             

0E82 C2A7       +1   480                     CLR     E_LCD            

                +1   481                     

0E84 7580FF     +1   482                     MOV             DISPLAY,#0xFF    

                +1   483                     

0E87 D2A6       +1   484                     SETB    RW                               

0E89 C2A5       +1   485                     CLR             RS                               

0E8B D2A7       +1   486                     SETB    E_LCD            

                +1   487     

0E8D 2087FD     +1   488                     JB              BUSYF,$                  

                +1   489     

0E90 C2A7       +1   490                     CLR     E_LCD            

                +1   491     

0E92 22         +1   492             RET

                +1   493                     

                +1   494     

                +1   495     

                +1   496     

                +1   497     

                +1   498     

                +1   499     

                +1   500     

                +1   501     

                +1   502     

0E93            +1   503     MSTRING:  

0E93 E4         +1   504                       CLR    A

0E94 93         +1   505               MOVC   A,@A+DPTR       

                +1   506               

0E95 6006       +1   507                       JZ     MSTR1

                +1   508               

0E97 120E7A     +1   509                       LCALL  ESCDADO         

                +1   510               

0E9A A3         +1   511                       INC    DPTR

                +1   512               

0E9B 80F6       +1   513                       SJMP   MSTRING

                +1   514                       

0E9D 22         +1   515     MSTR1:    RET

                +1   516                

                +1   517     

                +1   518     

                +1   519     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE     9

                +1   520     

                +1   521     

                +1   522     

                +1   523     

                +1   524     

                +1   525     

0E9E            +1   526     MSTRINGX: 

0E9E E0         +1   527                       MOVX   A,@DPTR         

                +1   528               

0E9F 6006       +1   529                       JZ     MSTR21

                +1   530               

0EA1 120E7A     +1   531                       LCALL  ESCDADO         

                +1   532               

0EA4 A3         +1   533                       INC    DPTR

                +1   534               

0EA5 80F7       +1   535                       SJMP   MSTRINGX

                +1   536     

0EA7 22         +1   537     MSTR21:   RET

                +1   538     

                +1   539     

                +1   540     

                +1   541     

                +1   542     

                +1   543     

                +1   544     

                +1   545     

                +1   546     

                +1   547     

0EA8            +1   548     ESC_STR1: 

                +1   549                       

0EA8 7800       +1   550                       MOV    R0,#00         

0EAA 7900       +1   551               MOV    R1,#00

                +1   552               

0EAC 8004       +1   553                       JMP    ESC_S

                +1   554               

                +1   555     

                +1   556     

                +1   557     

                +1   558     

                +1   559     

                +1   560     

                +1   561     

                +1   562     

                +1   563     

0EAE            +1   564     ESC_STR2: 

                +1   565                       

0EAE 7801       +1   566                       MOV    R0,#01         

0EB0 7900       +1   567               MOV    R1,#00

                +1   568                       

0EB2 120E36     +1   569     ESC_S:    LCALL  GOTOXY          

                +1   570               

0EB5 120E93     +1   571                       LCALL  MSTRING

                +1   572               

0EB8 22         +1   573                       RET

                +1   574     

                +1   575     

                +1   576     

                +1   577     

                +1   578     

                +1   579     

                +1   580     

                +1   581     ; DESTROI: R0,R2                                                                        //

                +1   582     

0EB9            +1   583     CUR_ON:   

0EB9 780F       +1   584                       MOV    R0,#0FH               

0EBB 8002       +1   585               SJMP   CUR1

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    10

                +1   586                       

0EBD            +1   587     CUR_OFF:  

0EBD 780C       +1   588                       MOV    R0,#0CH               

                +1   589                       

0EBF 7A01       +1   590     CUR1:     MOV    R2,#01

                +1   591               

0EC1 D11F       +1   592                       CALL   ESCINST               

                +1   593               

0EC3 22         +1   594                       RET

                +1   595                       

                +1   596     

                +1   597     

                +1   598     

                +1   599     

                +1   600     

                +1   601     

                +1   602     

0EC4            +1   603     ESCREVE_ASTERISCO:              

0EC4 742A       +1   604                     MOV     A, #2Ah  

0EC6 D17A       +1   605                     CALL    ESCDADO

                +1   606             

0EC8 22         +1   607                     RET

                     608     

                     609     ;#include "timer.a51"

                +1   610     

                +1   611     

                +1   612     

                +1   613     

                +1   614     

                +1   615     

                +1   616     

                +1   617     

                +1   618     

0F00            +1   619     ORG     0F00h

                +1   620             

                +1   621     

                +1   622     

                +1   623     

                +1   624     

                +1   625     

                +1   626     

                +1   627     

                +1   628     

                +1   629     

                +1   630     

                +1   631     

0F00            +1   632     TIMER_CONFIGURA_TIMER_0_SEM_INT:

0F00 758901     +1   633                     MOV     TMOD, #00000001b  

                +1   634                     

0F03 F106       +1   635                     ACALL   SETA_VALORES_TIMER_0_SEM_INT

                +1   636                     

0F05 22         +1   637                     RET

                +1   638                     

                +1   639     

                +1   640     

                +1   641     

                +1   642     

                +1   643     

                +1   644     

                +1   645     

0F06            +1   646     SETA_VALORES_TIMER_0_SEM_INT:

                +1   647                     

0F06 758CF8     +1   648                     MOV     TH0, #HIGH(65535 - 1978)

0F09 758A45     +1   649                     MOV     TL0, #LOW(65535 - 1978)

                +1   650                     

0F0C 22         +1   651                     RET

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    11

                +1   652     

                +1   653     

                +1   654     

                +1   655     

                +1   656     

                +1   657     

                +1   658     

                +1   659     

0F0D            +1   660     TIMER_DELAY_10_US: 

0F0D 7E02       +1   661                     MOV     R6, #02d     

0F0F DEFE       +1   662                     DJNZ    R6, $

                +1   663                     

0F11 22         +1   664                     RET

                +1   665                     

                +1   666     

                +1   667     

                +1   668     

                +1   669     

                +1   670     

                +1   671     

                +1   672     

0F12            +1   673     TIMER_DELAY_1_MS:

0F12 F100       +1   674                     ACALL   TIMER_CONFIGURA_TIMER_0_SEM_INT

                +1   675     

0F14            +1   676     CONTINUA_TIMER_1_MS:

0F14 C28D       +1   677                     CLR     TF0

0F16 D28C       +1   678                     SETB    TR0

                +1   679             

0F18 308DFD     +1   680                     JNB     TF0, $

                +1   681                             

0F1B F106       +1   682                     ACALL   SETA_VALORES_TIMER_0_SEM_INT

                +1   683                     

0F1D C28D       +1   684                     CLR     TF0

0F1F C28C       +1   685                     CLR     TR0

                +1   686             

0F21 D8F1       +1   687                     DJNZ    R0, CONTINUA_TIMER_1_MS

                +1   688             

0F23 22         +1   689                     RET

                +1   690     

                +1   691     

                +1   692     

                +1   693     

                +1   694     

                +1   695     

                +1   696     

                +1   697     

0F24            +1   698     TIMER_DELAY_200_MS:

0F24 78C8       +1   699                     MOV             R0, #0C8h 

                +1   700     

0F26 F112       +1   701                     ACALL   TIMER_DELAY_1_MS

                +1   702                     

0F28 D9FA       +1   703                     DJNZ    R1, TIMER_DELAY_200_MS

                +1   704             

0F2A 22         +1   705                     RET

                +1   706             

                +1   707     

                +1   708     

                +1   709     

                +1   710     

                +1   711     

                +1   712     

                +1   713     

0F2B            +1   714     TIMER_DELAY_1_S:

0F2B 7905       +1   715                     MOV             R1, #05h

0F2D F124       +1   716                     ACALL   TIMER_DELAY_200_MS

                +1   717                     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    12

0F2F DAFA       +1   718                     DJNZ    R2, TIMER_DELAY_1_S

                +1   719             

0F31 22         +1   720                     RET

                +1   721                     

                +1   722     

                +1   723     

                +1   724     

                +1   725     

                +1   726     

                +1   727     

                +1   728     

                +1   729     

                +1   730     

                +1   731     

                +1   732     

                +1   733     

0F32            +1   734     TIMER_DELAY:

0F32 C0E0       +1   735                     PUSH    ACC

0F34 C0F0       +1   736                     PUSH    B

                +1   737     

0F36 BA0013     +1   738                     CJNE    R2, #00h, CHAMA_TIMER_1_S

                +1   739     

0F39            +1   740     VERIFICA_R1:

0F39 B90009     +1   741                     CJNE    R1, #00h, CHAMA_TIMER_200_MS

                +1   742                     

0F3C            +1   743     VERIFICA_R0:

0F3C B80002     +1   744                     CJNE    R0, #00h, CHAMA_TIMER_1_MS

                +1   745                     

0F3F E156       +1   746                     AJMP    FINALIZA_TIMER_DELAY

                +1   747                     

0F41            +1   748     CHAMA_TIMER_1_MS:

0F41 F112       +1   749                     ACALL   TIMER_DELAY_1_MS

0F43 E156       +1   750                     AJMP    FINALIZA_TIMER_DELAY

                +1   751     

0F45            +1   752     CHAMA_TIMER_200_MS:

0F45 EE         +1   753                     MOV             A, R6

0F46 E8         +1   754                     MOV             A, R0

                +1   755                     

0F47 F124       +1   756                     ACALL   TIMER_DELAY_200_MS

                +1   757                     

0F49 F8         +1   758                     MOV             R0, A

                +1   759                     

0F4A E13C       +1   760                     AJMP    VERIFICA_R0

                +1   761                     

0F4C            +1   762     CHAMA_TIMER_1_S:

0F4C E8         +1   763                     MOV             A, R0

0F4D 89F0       +1   764                     MOV             B, R1

                +1   765     

0F4F F12B       +1   766                     ACALL   TIMER_DELAY_1_S

                +1   767                     

0F51 F8         +1   768                     MOV             R0, A

0F52 A9F0       +1   769                     MOV             R1, B

                +1   770                     

0F54 E139       +1   771                     AJMP    VERIFICA_R1

                +1   772     

0F56            +1   773     FINALIZA_TIMER_DELAY:

0F56 D0F0       +1   774                     POP             B

0F58 D0E0       +1   775                     POP     ACC

                +1   776                     

0F5A 22         +1   777                     RET

                     778     

                     779     ;#include "display_7_segmentos.a51"

                +1   780     

                +1   781     

                +1   782     

                +1   783     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    13

                +1   784     

                +1   785     

                +1   786     

                +1   787     

                +1   788     

                +1   789     

                +1   790     

                +1   791     

                +1   792     

0D00            +1   793     ORG     0D00h

                +1   794             

                +1   795     

                +1   796     

                +1   797     

                +1   798     

  0080          +1   799     PORT_DISPLAY                            EQU     P0

  0090          +1   800     DISPLAY_UNIDADE                         EQU P1.0

  0091          +1   801     DISPLAY_DEZENA                          EQU P1.1

  0092          +1   802     DISPLAY_CENTENA                         EQU     P1.2

                +1   803             

  0DFF          +1   804     QTD_DIGITOS                                     EQU 0DFFh

                +1   805             

                +1   806     

                +1   807     

                +1   808     

                +1   809     

0D00            +1   810     TAB7SEG:

0D00 3F065B4F   +1   811             DB 3FH, 06H, 5BH, 4FH, 66H, 6DH, 7DH, 07H, 7FH, 6FH, 77H, 7CH, 39H, 5EH, 79H, 71H

0D04 666D7D07                
0D08 7F6F777C                
0D0C 395E7971                
                +1   812                     

                +1   813     

                +1   814     

                +1   815     

                +1   816     

                +1   817     

                +1   818     

                +1   819     

0D10            +1   820     MOSTRA_DIGITO_DISPLAY:

0D10 900D00     +1   821                     MOV     DPTR, #TAB7SEG   

                +1   822                     

0D13 93         +1   823                     MOVC    A, @A + DPTR     

0D14 F4         +1   824             CPL     A                

0D15 F580       +1   825                     MOV     PORT_DISPLAY, A  

                +1   826                     

0D17 22         +1   827                     RET

                +1   828                     

                +1   829     

                +1   830     

                +1   831     

                +1   832     

                +1   833     

                +1   834     

                +1   835     

                +1   836     

                +1   837     

                +1   838     

                +1   839     

                +1   840     

                +1   841     

                +1   842     

                +1   843     

0D18            +1   844     BINARIO_BCD:

                +1   845                     

0D18 C290       +1   846                     CLR             DISPLAY_UNIDADE

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    14

0D1A C291       +1   847                     CLR             DISPLAY_DEZENA

0D1C C292       +1   848                     CLR             DISPLAY_CENTENA

                +1   849                     

                +1   850                     

0D1E E9         +1   851                     MOV             A, R1

0D1F FB         +1   852                     MOV             R3, A

                +1   853     

0D20            +1   854     CONTINUA_BINARIO_BCD:

0D20 E8         +1   855                     MOV     A, R0

0D21 75F064     +1   856                     MOV     B, #100d  

                +1   857                     

0D24 84         +1   858                     DIV     AB

0D25 D290       +1   859                     SETB    DISPLAY_UNIDADE

0D27 B110       +1   860                     ACALL   MOSTRA_DIGITO_DISPLAY

                +1   861                     

0D29 7801       +1   862                     MOV             R0,     #01h

0D2B 120F12     +1   863                     LCALL   TIMER_DELAY_1_MS

                +1   864                     

0D2E E5F0       +1   865                     MOV     A, B

0D30 75F00A     +1   866                     MOV     B, #10d

                +1   867                     

0D33 84         +1   868                     DIV     AB

0D34 C290       +1   869                     CLR     DISPLAY_UNIDADE

0D36 D291       +1   870                     SETB    DISPLAY_DEZENA

0D38 B110       +1   871                     ACALL   MOSTRA_DIGITO_DISPLAY

                +1   872                     

0D3A 7801       +1   873                     MOV             R0,     #01h

0D3C 120F12     +1   874                     LCALL   TIMER_DELAY_1_MS

                +1   875                     

0D3F E5F0       +1   876                     MOV     A, B

                +1   877                     

0D41 C291       +1   878                     CLR     DISPLAY_DEZENA

0D43 D292       +1   879                     SETB    DISPLAY_CENTENA

0D45 B110       +1   880                     ACALL   MOSTRA_DIGITO_DISPLAY

                +1   881                     

0D47 7801       +1   882                     MOV             R0,     #01h

0D49 120F12     +1   883                     LCALL   TIMER_DELAY_1_MS

                +1   884                     

0D4C C292       +1   885                     CLR             DISPLAY_CENTENA

                +1   886                     

                +1   887                     

0D4E D9D0       +1   888                     DJNZ    R1, CONTINUA_BINARIO_BCD

                +1   889                     

0D50 EB         +1   890                     MOV             A, R3

0D51 F9         +1   891                     MOV             R1, A

                +1   892                     

0D52 DACC       +1   893                     DJNZ    R2, CONTINUA_BINARIO_BCD  

                +1   894                     

0D54 22         +1   895                     RET

                     896     

                     897     ;#include "teclado_matricial_4x4.a51"

                +1   898     

                +1   899     

                +1   900     

                +1   901     

                +1   902     

                +1   903     

                +1   904     

                +1   905     

                +1   906     

                +1   907     

                +1   908     

0C00            +1   909     ORG     0C00h

                +1   910             

  0090          +1   911     TECLADO         EQU     P1

                +1   912             

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    15

                +1   913     

  0090          +1   914     COL1            EQU P1.0

  0091          +1   915     COL2            EQU P1.1

  0092          +1   916     COL3            EQU P1.2

  0093          +1   917     COL4            EQU P1.3

                +1   918             

  0094          +1   919     LIN1            EQU P1.4

  0095          +1   920     LIN2            EQU P1.5

  0096          +1   921     LIN3            EQU P1.6

  0097          +1   922     LIN4            EQU P1.7

                +1   923     

                +1   924     

                +1   925     

                +1   926     

                +1   927     

                +1   928     

                +1   929     

                +1   930     

0C00            +1   931     PRESS_ENT:

                +1   932                     

0C00 75907F     +1   933                     MOV             TECLADO, #01111111b

                +1   934                     

0C03            +1   935     VARRE_ENT:

0C03 309302     +1   936                     JNB     COL4, CONTINUA_PROG      

                +1   937                     

0C06 80FB       +1   938                     JMP     VARRE_ENT

0C08            +1   939     CONTINUA_PROG:

0C08 22         +1   940                     RET

                +1   941                     

                +1   942     

                +1   943     

                +1   944     

                +1   945     

                +1   946     

                +1   947     

                +1   948     

0C09            +1   949     VARREDURA_TECLADO:

0C09 C294       +1   950                     CLR     LIN1

0C0B D295       +1   951                     SETB    LIN2

0C0D D296       +1   952                     SETB    LIN3

0C0F D297       +1   953                     SETB    LIN4

                +1   954                     

0C11 309129     +1   955                     JNB     COL2, DIGITO1

0C14 30922A     +1   956                     JNB     COL3, DIGITO2

0C17 30932B     +1   957                     JNB     COL4, DIGITO3

                +1   958                     

0C1A C295       +1   959                     CLR     LIN2

0C1C D294       +1   960                     SETB    LIN1

                +1   961                     

0C1E 309128     +1   962                     JNB     COL2, DIGITO4

0C21 309229     +1   963                     JNB     COL3, DIGITO5

0C24 30932A     +1   964                     JNB     COL4, DIGITO6

                +1   965                     

0C27 C296       +1   966                     CLR     LIN3

0C29 D295       +1   967                     SETB    LIN2

                +1   968                     

0C2B 309127     +1   969                     JNB     COL2, DIGITO7

0C2E 309228     +1   970                     JNB     COL3, DIGITO8

0C31 309329     +1   971                     JNB     COL4, DIGITO9

                +1   972                     

0C34 C297       +1   973                     CLR     LIN4

0C36 D296       +1   974                     SETB    LIN3

                +1   975                     

                +1   976                     

0C38 309226     +1   977                     JNB     COL3, DIGITO0

                +1   978                     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    16

                +1   979                     

0C3B 80CC       +1   980                     JMP     VARREDURA_TECLADO

                +1   981                     

                +1   982     

                +1   983     

                +1   984     

                +1   985     

                +1   986     

                +1   987     

                +1   988     

                +1   989     

0C3D            +1   990     DIGITO1: 

0C3D 7401       +1   991                     MOV A, #1h

0C3F 8165       +1   992                     AJMP GRAVA_DIGITO

0C41            +1   993     DIGITO2:

0C41 7402       +1   994                     MOV A, #2h

0C43 8165       +1   995                     AJMP GRAVA_DIGITO

0C45            +1   996     DIGITO3: 

0C45 7403       +1   997                     MOV A, #3h

0C47 8165       +1   998                     AJMP GRAVA_DIGITO

0C49            +1   999     DIGITO4:

0C49 7404       +1  1000                     MOV A, #4h

0C4B 8165       +1  1001                     AJMP GRAVA_DIGITO

0C4D            +1  1002     DIGITO5:

0C4D 7405       +1  1003                     MOV A, #5h

0C4F 8165       +1  1004                     AJMP GRAVA_DIGITO

0C51            +1  1005     DIGITO6:

0C51 7406       +1  1006                     MOV A, #6h

0C53 8165       +1  1007                     AJMP GRAVA_DIGITO

0C55            +1  1008     DIGITO7:

0C55 7407       +1  1009                     MOV A, #7h

0C57 8165       +1  1010                     AJMP GRAVA_DIGITO

0C59            +1  1011     DIGITO8:

0C59 7408       +1  1012                     MOV A, #8h

0C5B 8165       +1  1013                     AJMP GRAVA_DIGITO

0C5D            +1  1014     DIGITO9:

0C5D 7409       +1  1015                     MOV A, #9h

0C5F 8165       +1  1016                     AJMP GRAVA_DIGITO

0C61            +1  1017     DIGITO0:

0C61 7400       +1  1018                     MOV A, #0h

0C63 8165       +1  1019                     AJMP GRAVA_DIGITO

                +1  1020                      

0C65            +1  1021     GRAVA_DIGITO:

0C65 F7         +1  1022                     MOV @R1, A

                +1  1023             

0C66 22         +1  1024                     RET

                    1025     

                    1026     ;#include "motor_de_passos.a51"

                +1  1027     

                +1  1028     

                +1  1029     

                +1  1030     

                +1  1031     

                +1  1032     

                +1  1033     

                +1  1034     

                +1  1035     

                +1  1036     

                +1  1037     

                +1  1038     

0B00            +1  1039     ORG     0B00h

                +1  1040             

                +1  1041     

  00B1          +1  1042     ESTADO_UM               EQU P3.1

  00B2          +1  1043     ESTADO_DOIS     EQU P3.2

  00B3          +1  1044     ESTADO_TRES     EQU P3.3

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    17

  00B4          +1  1045     ESTADO_QUATRO   EQU P3.4

                +1  1046     

                +1  1047     

                +1  1048     

                +1  1049     

                +1  1050     

                +1  1051     

                +1  1052     

                +1  1053     

0B00            +1  1054     INICIA_MOTOR_DE_PASSOS:

0B00 D2B1       +1  1055                     SETB    ESTADO_UM

0B02 C2B2       +1  1056                     CLR             ESTADO_DOIS

0B04 C2B3       +1  1057                     CLR             ESTADO_TRES

0B06 C2B4       +1  1058                     CLR             ESTADO_QUATRO

                +1  1059                     

0B08 7864       +1  1060                     MOV     R0, #0100d

0B0A F112       +1  1061                     ACALL   TIMER_DELAY_1_MS

                +1  1062                     

0B0C C2B1       +1  1063                     CLR             ESTADO_UM

0B0E D2B2       +1  1064                     SETB    ESTADO_DOIS

                +1  1065                     

0B10 7864       +1  1066                     MOV     R0, #0100d

0B12 F112       +1  1067                     ACALL   TIMER_DELAY_1_MS

                +1  1068                     

0B14 C2B2       +1  1069                     CLR             ESTADO_DOIS

0B16 D2B3       +1  1070                     SETB    ESTADO_TRES

                +1  1071                     

0B18 7864       +1  1072                     MOV     R0, #0100d

0B1A F112       +1  1073                     ACALL   TIMER_DELAY_1_MS

                +1  1074                     

0B1C C2B3       +1  1075                     CLR             ESTADO_TRES

0B1E D2B4       +1  1076                     SETB    ESTADO_QUATRO

                +1  1077                     

0B20 7864       +1  1078                     MOV     R0, #0100d

0B22 F112       +1  1079                     ACALL   TIMER_DELAY_1_MS

                +1  1080                     

0B24 DDDA       +1  1081                     DJNZ    R5, INICIA_MOTOR_DE_PASSOS

                +1  1082                     

0B26 22         +1  1083                     RET

                +1  1084     

                +1  1085     

                +1  1086     

                +1  1087     

                +1  1088     

                +1  1089     

                +1  1090     

                +1  1091     

0B27            +1  1092     TRANCA_FECHADURA:

0B27 C2B1       +1  1093                     CLR             ESTADO_UM

0B29 C2B2       +1  1094                     CLR             ESTADO_DOIS

0B2B C2B3       +1  1095                     CLR             ESTADO_TRES

0B2D D2B4       +1  1096                     SETB    ESTADO_QUATRO

                +1  1097                     

0B2F 7814       +1  1098                     MOV     R0, #020d

0B31 F112       +1  1099                     ACALL   TIMER_DELAY_1_MS

                +1  1100                     

0B33 D2B3       +1  1101                     SETB    ESTADO_TRES

0B35 C2B4       +1  1102                     CLR             ESTADO_QUATRO

                +1  1103                     

0B37 7814       +1  1104                     MOV     R0, #020d

0B39 F112       +1  1105                     ACALL   TIMER_DELAY_1_MS

                +1  1106                     

0B3B D2B2       +1  1107                     SETB    ESTADO_DOIS

0B3D C2B3       +1  1108                     CLR             ESTADO_TRES

                +1  1109                     

0B3F 7814       +1  1110                     MOV     R0, #020d

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    18

0B41 F112       +1  1111                     ACALL   TIMER_DELAY_1_MS

                +1  1112                     

0B43 D2B1       +1  1113                     SETB    ESTADO_UM

0B45 C2B2       +1  1114                     CLR             ESTADO_DOIS

                +1  1115                     

0B47 7814       +1  1116                     MOV     R0, #020d

0B49 F112       +1  1117                     ACALL   TIMER_DELAY_1_MS

                +1  1118                     

0B4B DDDA       +1  1119                     DJNZ    R5, TRANCA_FECHADURA

                +1  1120     

0B4D 22         +1  1121                     RET

                +1  1122     

                +1  1123     

                +1  1124     

                +1  1125     

                +1  1126     

                +1  1127     

                +1  1128     

                +1  1129     

                    1130     

                    1131     

0000                1132     ORG 0000h  

0000 020026         1133     LJMP __STARTUP__

                    1134     

0003                1135     ORG 0003h  

0003 020028         1136     LJMP INT_INT0

                    1137     

000B                1138     ORG 000Bh  

000B 020029         1139     LJMP INT_TIMER0

                    1140     

0013                1141     ORG 0013h  

0013 02002A         1142     LJMP INT_INT1

                    1143     

001B                1144     ORG 001Bh  

001B 02002B         1145     LJMP INT_TIMER1

                    1146     

0023                1147     ORG 0023h  

0023 02002C         1148     LJMP INT_SERIAL

                    1149     

0026                1150     __STARTUP__:

                    1151                     

                    1152     

0026 80FE           1153                     JMP     __STARTUP__

                    1154     

                    1155     

                    1156     

                    1157     

                    1158     

                    1159     

                    1160     

                    1161     

0028                1162     INT_INT0:

0028 32             1163                     RETI

                    1164     

                    1165     

                    1166     

                    1167     

0029                1168     INT_TIMER0:

0029 32             1169                     RETI

                    1170             

                    1171     

                    1172     

                    1173     

002A                1174     INT_INT1:

002A 32             1175                     RETI

                    1176     

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    19

                    1177     

                    1178     

                    1179     

002B                1180     INT_TIMER1:

002B 32             1181                     RETI

                    1182             

                    1183     

                    1184     

                    1185     

002C                1186     INT_SERIAL:

002C 32             1187                     RETI

                    1188             

                    1189                     END

A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    20

SYMBOL TABLE LISTING
------ ----- -------


N A M E                          T Y P E  V A L U E   ATTRIBUTES

ACC . . . . . . . . . . . . . .  D ADDR   00E0H   A   
AUXR. . . . . . . . . . . . . .  D ADDR   008EH   A   
AUXR1 . . . . . . . . . . . . .  D ADDR   00A2H   A   
B . . . . . . . . . . . . . . .  D ADDR   00F0H   A   
BDRCON. . . . . . . . . . . . .  D ADDR   009BH   A   
BINARIO_BCD . . . . . . . . . .  C ADDR   0D18H   A   
BRL . . . . . . . . . . . . . .  D ADDR   009AH   A   
BUSYF . . . . . . . . . . . . .  B ADDR   0080H.7 A   
CCAP0H. . . . . . . . . . . . .  D ADDR   00FAH   A   
CCAP0L. . . . . . . . . . . . .  D ADDR   00EAH   A   
CCAP1H. . . . . . . . . . . . .  D ADDR   00FBH   A   
CCAP1L. . . . . . . . . . . . .  D ADDR   00EBH   A   
CCAP2H. . . . . . . . . . . . .  D ADDR   00FCH   A   
CCAP2L. . . . . . . . . . . . .  D ADDR   00ECH   A   
CCAP3H. . . . . . . . . . . . .  D ADDR   00FDH   A   
CCAP3L. . . . . . . . . . . . .  D ADDR   00EDH   A   
CCAP4H. . . . . . . . . . . . .  D ADDR   00FEH   A   
CCAP4L. . . . . . . . . . . . .  D ADDR   00EEH   A   
CCAPM0. . . . . . . . . . . . .  D ADDR   00DAH   A   
CCAPM1. . . . . . . . . . . . .  D ADDR   00DBH   A   
CCAPM2. . . . . . . . . . . . .  D ADDR   00DCH   A   
CCAPM3. . . . . . . . . . . . .  D ADDR   00DDH   A   
CCAPM4. . . . . . . . . . . . .  D ADDR   00DEH   A   
CCF0. . . . . . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1. . . . . . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2. . . . . . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3. . . . . . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4. . . . . . . . . . . . . .  B ADDR   00D8H.4 A   
CCON. . . . . . . . . . . . . .  D ADDR   00D8H   A   
CF. . . . . . . . . . . . . . .  B ADDR   00D8H.7 A   
CH. . . . . . . . . . . . . . .  D ADDR   00F9H   A   
CHAMA_TIMER_1_MS. . . . . . . .  C ADDR   0F41H   A   
CHAMA_TIMER_1_S . . . . . . . .  C ADDR   0F4CH   A   
CHAMA_TIMER_200_MS. . . . . . .  C ADDR   0F45H   A   
CKCON0. . . . . . . . . . . . .  D ADDR   008FH   A   
CKCON1. . . . . . . . . . . . .  D ADDR   00AFH   A   
CKSEL . . . . . . . . . . . . .  D ADDR   0085H   A   
CL. . . . . . . . . . . . . . .  D ADDR   00E9H   A   
CLR1L . . . . . . . . . . . . .  C ADDR   0E48H   A   
CLR1L1. . . . . . . . . . . . .  C ADDR   0E52H   A   
CLR2L . . . . . . . . . . . . .  C ADDR   0E61H   A   
CLR2L1. . . . . . . . . . . . .  C ADDR   0E6BH   A   
CMOD. . . . . . . . . . . . . .  D ADDR   00D9H   A   
COL1. . . . . . . . . . . . . .  B ADDR   0090H.0 A   
COL2. . . . . . . . . . . . . .  B ADDR   0090H.1 A   
COL3. . . . . . . . . . . . . .  B ADDR   0090H.2 A   
COL4. . . . . . . . . . . . . .  B ADDR   0090H.3 A   
CONTINUA_BINARIO_BCD. . . . . .  C ADDR   0D20H   A   
CONTINUA_PROG . . . . . . . . .  C ADDR   0C08H   A   
CONTINUA_TIMER_1_MS . . . . . .  C ADDR   0F14H   A   
CP_RL2. . . . . . . . . . . . .  B ADDR   00C8H.0 A   
CR. . . . . . . . . . . . . . .  B ADDR   00D8H.6 A   
CUR1. . . . . . . . . . . . . .  C ADDR   0EBFH   A   
CUR_OFF . . . . . . . . . . . .  C ADDR   0EBDH   A   
CUR_ON. . . . . . . . . . . . .  C ADDR   0EB9H   A   
C_T2. . . . . . . . . . . . . .  B ADDR   00C8H.1 A   
DIGITO0 . . . . . . . . . . . .  C ADDR   0C61H   A   
DIGITO1 . . . . . . . . . . . .  C ADDR   0C3DH   A   
DIGITO2 . . . . . . . . . . . .  C ADDR   0C41H   A   
DIGITO3 . . . . . . . . . . . .  C ADDR   0C45H   A   
A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    21

DIGITO4 . . . . . . . . . . . .  C ADDR   0C49H   A   
DIGITO5 . . . . . . . . . . . .  C ADDR   0C4DH   A   
DIGITO6 . . . . . . . . . . . .  C ADDR   0C51H   A   
DIGITO7 . . . . . . . . . . . .  C ADDR   0C55H   A   
DIGITO8 . . . . . . . . . . . .  C ADDR   0C59H   A   
DIGITO9 . . . . . . . . . . . .  C ADDR   0C5DH   A   
DISPLAY . . . . . . . . . . . .  D ADDR   0080H   A   
DISPLAY_CENTENA . . . . . . . .  B ADDR   0090H.2 A   
DISPLAY_DEZENA. . . . . . . . .  B ADDR   0090H.1 A   
DISPLAY_UNIDADE . . . . . . . .  B ADDR   0090H.0 A   
DPH . . . . . . . . . . . . . .  D ADDR   0083H   A   
DPL . . . . . . . . . . . . . .  D ADDR   0082H   A   
EA. . . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EC. . . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
EECON . . . . . . . . . . . . .  D ADDR   00D2H   A   
EP0INT. . . . . . . . . . . . .  B ADDR   00F8H.0 A   
EP1INT. . . . . . . . . . . . .  B ADDR   00F8H.1 A   
EP2INT. . . . . . . . . . . . .  B ADDR   00F8H.2 A   
EP3INT. . . . . . . . . . . . .  B ADDR   00F8H.3 A   
EP4INT. . . . . . . . . . . . .  B ADDR   00F8H.4 A   
EP5INT. . . . . . . . . . . . .  B ADDR   00F8H.5 A   
EP6INT. . . . . . . . . . . . .  B ADDR   00F8H.6 A   
ES. . . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ESCDADO . . . . . . . . . . . .  C ADDR   0E7AH   A   
ESCINST . . . . . . . . . . . .  C ADDR   0E1FH   A   
ESCREVE_ASTERISCO . . . . . . .  C ADDR   0EC4H   A   
ESC_S . . . . . . . . . . . . .  C ADDR   0EB2H   A   
ESC_STR1. . . . . . . . . . . .  C ADDR   0EA8H   A   
ESC_STR2. . . . . . . . . . . .  C ADDR   0EAEH   A   
ESTADO_DOIS . . . . . . . . . .  B ADDR   00B0H.2 A   
ESTADO_QUATRO . . . . . . . . .  B ADDR   00B0H.4 A   
ESTADO_TRES . . . . . . . . . .  B ADDR   00B0H.3 A   
ESTADO_UM . . . . . . . . . . .  B ADDR   00B0H.1 A   
ET0 . . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
ET2 . . . . . . . . . . . . . .  B ADDR   00A8H.5 A   
EX0 . . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EXEN2 . . . . . . . . . . . . .  B ADDR   00C8H.3 A   
EXF2. . . . . . . . . . . . . .  B ADDR   00C8H.6 A   
E_LCD . . . . . . . . . . . . .  B ADDR   00A0H.7 A   
FCON. . . . . . . . . . . . . .  D ADDR   00D1H   A   
FE_SM0. . . . . . . . . . . . .  B ADDR   0098H.7 A   
FINALIZA_TIMER_DELAY. . . . . .  C ADDR   0F56H   A   
GOTOXY. . . . . . . . . . . . .  C ADDR   0E36H   A   
GRAVA_DIGITO. . . . . . . . . .  C ADDR   0C65H   A   
GT1 . . . . . . . . . . . . . .  C ADDR   0E3FH   A   
IE0_. . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1_. . . . . . . . . . . . . .  B ADDR   0088H.3 A   
IEN0. . . . . . . . . . . . . .  D ADDR   00A8H   A   
IEN1. . . . . . . . . . . . . .  D ADDR   00B1H   A   
INICIA_MOTOR_DE_PASSOS. . . . .  C ADDR   0B00H   A   
INIDISP . . . . . . . . . . . .  C ADDR   0E00H   A   
INT_INT0. . . . . . . . . . . .  C ADDR   0028H   A   
INT_INT1. . . . . . . . . . . .  C ADDR   002AH   A   
INT_SERIAL. . . . . . . . . . .  C ADDR   002CH   A   
INT_TIMER0. . . . . . . . . . .  C ADDR   0029H   A   
INT_TIMER1. . . . . . . . . . .  C ADDR   002BH   A   
IPH0. . . . . . . . . . . . . .  D ADDR   00B7H   A   
IPH1. . . . . . . . . . . . . .  D ADDR   00B3H   A   
IPL0. . . . . . . . . . . . . .  D ADDR   00B8H   A   
IPL1. . . . . . . . . . . . . .  D ADDR   00B2H   A   
IT0 . . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . . . . .  B ADDR   0088H.2 A   
KBE . . . . . . . . . . . . . .  D ADDR   009DH   A   
KBF . . . . . . . . . . . . . .  D ADDR   009EH   A   
A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    22

KBLS. . . . . . . . . . . . . .  D ADDR   009CH   A   
LEDCON. . . . . . . . . . . . .  D ADDR   00F1H   A   
LIN1. . . . . . . . . . . . . .  B ADDR   0090H.4 A   
LIN2. . . . . . . . . . . . . .  B ADDR   0090H.5 A   
LIN3. . . . . . . . . . . . . .  B ADDR   0090H.6 A   
LIN4. . . . . . . . . . . . . .  B ADDR   0090H.7 A   
MOSTRA_DIGITO_DISPLAY . . . . .  C ADDR   0D10H   A   
MSTR1 . . . . . . . . . . . . .  C ADDR   0E9DH   A   
MSTR21. . . . . . . . . . . . .  C ADDR   0EA7H   A   
MSTRING . . . . . . . . . . . .  C ADDR   0E93H   A   
MSTRINGX. . . . . . . . . . . .  C ADDR   0E9EH   A   
P0. . . . . . . . . . . . . . .  D ADDR   0080H   A   
P0_0. . . . . . . . . . . . . .  B ADDR   0080H.0 A   
P0_1. . . . . . . . . . . . . .  B ADDR   0080H.1 A   
P0_2. . . . . . . . . . . . . .  B ADDR   0080H.2 A   
P0_3. . . . . . . . . . . . . .  B ADDR   0080H.3 A   
P0_4. . . . . . . . . . . . . .  B ADDR   0080H.4 A   
P0_5. . . . . . . . . . . . . .  B ADDR   0080H.5 A   
P0_6. . . . . . . . . . . . . .  B ADDR   0080H.6 A   
P0_7. . . . . . . . . . . . . .  B ADDR   0080H.7 A   
P1. . . . . . . . . . . . . . .  D ADDR   0090H   A   
P1_0. . . . . . . . . . . . . .  B ADDR   0090H.0 A   
P1_1. . . . . . . . . . . . . .  B ADDR   0090H.1 A   
P1_2. . . . . . . . . . . . . .  B ADDR   0090H.2 A   
P1_3. . . . . . . . . . . . . .  B ADDR   0090H.3 A   
P1_4. . . . . . . . . . . . . .  B ADDR   0090H.4 A   
P1_5. . . . . . . . . . . . . .  B ADDR   0090H.5 A   
P1_6. . . . . . . . . . . . . .  B ADDR   0090H.6 A   
P1_7. . . . . . . . . . . . . .  B ADDR   0090H.7 A   
P2. . . . . . . . . . . . . . .  D ADDR   00A0H   A   
P2_0. . . . . . . . . . . . . .  B ADDR   00A0H.0 A   
P2_1. . . . . . . . . . . . . .  B ADDR   00A0H.1 A   
P2_2. . . . . . . . . . . . . .  B ADDR   00A0H.2 A   
P2_3. . . . . . . . . . . . . .  B ADDR   00A0H.3 A   
P2_4. . . . . . . . . . . . . .  B ADDR   00A0H.4 A   
P2_5. . . . . . . . . . . . . .  B ADDR   00A0H.5 A   
P2_6. . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
P2_7. . . . . . . . . . . . . .  B ADDR   00A0H.7 A   
P3. . . . . . . . . . . . . . .  D ADDR   00B0H   A   
P3_0. . . . . . . . . . . . . .  B ADDR   00B0H.0 A   
P3_1. . . . . . . . . . . . . .  B ADDR   00B0H.1 A   
P3_2. . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
P3_3. . . . . . . . . . . . . .  B ADDR   00B0H.3 A   
P3_4. . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
P3_5. . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
P3_6. . . . . . . . . . . . . .  B ADDR   00B0H.6 A   
P3_7. . . . . . . . . . . . . .  B ADDR   00B0H.7 A   
P4. . . . . . . . . . . . . . .  D ADDR   00C0H   A   
P4_0. . . . . . . . . . . . . .  B ADDR   00C0H.0 A   
P4_1. . . . . . . . . . . . . .  B ADDR   00C0H.1 A   
PCON. . . . . . . . . . . . . .  D ADDR   0087H   A   
PLLCON. . . . . . . . . . . . .  D ADDR   00A3H   A   
PLLDIV. . . . . . . . . . . . .  D ADDR   00A4H   A   
PORT_DISPLAY. . . . . . . . . .  D ADDR   0080H   A   
PPCL. . . . . . . . . . . . . .  B ADDR   00B8H.6 A   
PRESS_ENT . . . . . . . . . . .  C ADDR   0C00H   A   
PSL . . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
PSW . . . . . . . . . . . . . .  D ADDR   00D0H   A   
PT0L. . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
PT2L. . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
PTIL. . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
PX0L. . . . . . . . . . . . . .  B ADDR   00B8H.0 A   
PXIL. . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
QTD_DIGITOS . . . . . . . . . .  N NUMB   0DFFH   A   
RB8 . . . . . . . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H. . . . . . . . . . . . .  D ADDR   00CBH   A   
A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    23

RCAP2L. . . . . . . . . . . . .  D ADDR   00CAH   A   
RCLK. . . . . . . . . . . . . .  B ADDR   00C8H.5 A   
REN . . . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI. . . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RS. . . . . . . . . . . . . . .  B ADDR   00A0H.5 A   
RW. . . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
SADDR . . . . . . . . . . . . .  D ADDR   00A9H   A   
SADEN . . . . . . . . . . . . .  D ADDR   00B9H   A   
SBUF. . . . . . . . . . . . . .  D ADDR   0099H   A   
SCON. . . . . . . . . . . . . .  D ADDR   0098H   A   
SETA_VALORES_TIMER_0_SEM_INT. .  C ADDR   0F06H   A   
SM1 . . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM2 . . . . . . . . . . . . . .  B ADDR   0098H.5 A   
SP. . . . . . . . . . . . . . .  D ADDR   0081H   A   
SPCON . . . . . . . . . . . . .  D ADDR   00C3H   A   
SPDAT . . . . . . . . . . . . .  D ADDR   00C5H   A   
SPSTA . . . . . . . . . . . . .  D ADDR   00C4H   A   
SSADR . . . . . . . . . . . . .  D ADDR   0096H   A   
SSCON . . . . . . . . . . . . .  D ADDR   0093H   A   
SSCS. . . . . . . . . . . . . .  D ADDR   0094H   A   
SSDAT . . . . . . . . . . . . .  D ADDR   0095H   A   
T2CON . . . . . . . . . . . . .  D ADDR   00C8H   A   
T2MOD . . . . . . . . . . . . .  D ADDR   00C9H   A   
TAB7SEG . . . . . . . . . . . .  C ADDR   0D00H   A   
TB8 . . . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCLK. . . . . . . . . . . . . .  B ADDR   00C8H.4 A   
TCON. . . . . . . . . . . . . .  D ADDR   0088H   A   
TECLADO . . . . . . . . . . . .  D ADDR   0090H   A   
TF0 . . . . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1 . . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TF2 . . . . . . . . . . . . . .  B ADDR   00C8H.7 A   
TH0 . . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . . . . .  D ADDR   008DH   A   
TH2 . . . . . . . . . . . . . .  D ADDR   00CDH   A   
TI. . . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TIMER_CONFIGURA_TIMER_0_SEM_INT  C ADDR   0F00H   A   
TIMER_DELAY . . . . . . . . . .  C ADDR   0F32H   A   
TIMER_DELAY_10_US . . . . . . .  C ADDR   0F0DH   A   
TIMER_DELAY_1_MS. . . . . . . .  C ADDR   0F12H   A   
TIMER_DELAY_1_S . . . . . . . .  C ADDR   0F2BH   A   
TIMER_DELAY_200_MS. . . . . . .  C ADDR   0F24H   A   
TL0 . . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . . . . .  D ADDR   008BH   A   
TL2 . . . . . . . . . . . . . .  D ADDR   00CCH   A   
TMOD. . . . . . . . . . . . . .  D ADDR   0089H   A   
TR0 . . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . . . . .  B ADDR   0088H.6 A   
TR2 . . . . . . . . . . . . . .  B ADDR   00C8H.2 A   
TRANCA_FECHADURA. . . . . . . .  C ADDR   0B27H   A   
UBYCTHX . . . . . . . . . . . .  D ADDR   00E3H   A   
UBYCTLX . . . . . . . . . . . .  D ADDR   00E2H   A   
UDPADDH . . . . . . . . . . . .  D ADDR   00D7H   A   
UDPADDL . . . . . . . . . . . .  D ADDR   00D6H   A   
UEPCONX . . . . . . . . . . . .  D ADDR   00D4H   A   
UEPDATX . . . . . . . . . . . .  D ADDR   00CFH   A   
UEPIEN. . . . . . . . . . . . .  D ADDR   00C2H   A   
UEPINT. . . . . . . . . . . . .  D ADDR   00F8H   A   
UEPNUM. . . . . . . . . . . . .  D ADDR   00C7H   A   
UEPRST. . . . . . . . . . . . .  D ADDR   00D5H   A   
UEPSTAX . . . . . . . . . . . .  D ADDR   00CEH   A   
UFNUMH. . . . . . . . . . . . .  D ADDR   00BBH   A   
UFNUML. . . . . . . . . . . . .  D ADDR   00BAH   A   
USBADDR . . . . . . . . . . . .  D ADDR   00C6H   A   
USBCON. . . . . . . . . . . . .  D ADDR   00BCH   A   
USBIEN. . . . . . . . . . . . .  D ADDR   00BEH   A   
USBINT. . . . . . . . . . . . .  D ADDR   00BDH   A   
A51 MACRO ASSEMBLER  PROJETO00_PADRAO                                                     05/07/2017 20:31:12 PAGE    24

VARREDURA_TECLADO . . . . . . .  C ADDR   0C09H   A   
VARRE_ENT . . . . . . . . . . .  C ADDR   0C03H   A   
VERIFICA_R0 . . . . . . . . . .  C ADDR   0F3CH   A   
VERIFICA_R1 . . . . . . . . . .  C ADDR   0F39H   A   
WDTPRG. . . . . . . . . . . . .  D ADDR   00A7H   A   
WDTRST. . . . . . . . . . . . .  D ADDR   00A6H   A   
__STARTUP__ . . . . . . . . . .  C ADDR   0026H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
